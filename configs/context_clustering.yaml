# Full Model Configuration
# Uses item sequences + context + learnable clustering

experiment:
  name: "mdca_context_clustering"
  seed: 42
  output_dir: "./output/context_clustering"

model:
  config: "context_clustering"
  hidden_size: 64
  max_seq_length: 50
  num_attention_heads: 4
  num_hidden_layers: 2
  hidden_dropout_prob: 0.5
  embed_reg: 1.0e-6  # Embedding L2 regularization weight

# Context features
context:
  use_time: true
  use_category: true
  use_geospatial: true
  use_weather: true

# Clustering
clustering:
  num_clusters: 30
  cluster_temperature: 1.
  compactness_weight: 1.0
  separation_weight: 0.5

# Training
training:
  batch_size: 256
  learning_rate: 0.0001
  num_epochs: 30
  weight_decay: 0.0
  rec_weight: 1.0
  cluster_weight: 0.3
  device: "cpu"


# Data
data:
  dataset_path: "./data/contexttrails_pj_full_test.csv"
#  dataset_path: "./data/weeplaces_SF.csv"
  train_split: 0.7
  val_split: 0.1
  test_split: 0.2
